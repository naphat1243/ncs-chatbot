<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NCS Admin - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏•‡∏∞‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô</title>
    <link rel="stylesheet" href="./styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;500;600&display=swap" rel="stylesheet" />
</head>
<body>
    <div class="page">
        <header class="hero">
            <div>
                <p class="eyebrow">NCS Cleaning Concierge</p>
                <h1>üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏•‡∏∞‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô</h1>
                <p class="subtitle">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏Ñ‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î</p>
            </div>
            <div class="token-card">
                <div class="token-header">
                    <label for="adminToken">üîê ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</label>
                    <span class="status-badge" id="tokenStatus">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™</span>
                </div>
                <div class="token-input">
                    <input id="adminToken" type="password" placeholder="‡∏ß‡∏≤‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà" autocomplete="off" />
                    <button id="saveTokenBtn" type="button">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                </div>
                <small>üí° ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</small>
            </div>
        </header>

        <main class="grid">
                <section class="card wide" id="overviewCard">
                    <header>
                        <div>
                            <h2>üìä ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</h2>
                            <p>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏•‡∏∞‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</p>
                        </div>
                        <div class="actions">
                            <button id="refreshConfigBtn" type="button">üîÑ ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä</button>
                        </div>
                    </header>
                    <div class="pill-section">
                        <h3>üßπ ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î</h3>
                        <div id="servicesList" class="pill-list" data-empty="‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£"></div>
                    </div>
                    <div class="pill-section">
                        <h3>üë• ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h3>
                        <div id="customersList" class="pill-list" data-empty="‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤"></div>
                    </div>
                </section>

                <section class="card wide" id="priceTableSection">
                    <header>
                        <div>
                            <h2>üí∞ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
                            <p>‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å pricing_config.json</p>
                        </div>
                        <div class="actions">
                            <button id="addNewPriceBtn" type="button" class="primary">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤‡πÉ‡∏´‡∏°‡πà</button>
                        </div>
                    </header>
                    <div class="info-box">
                        <strong>üí° ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ:</strong> ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏Ñ‡∏≤‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤‡πÉ‡∏´‡∏°‡πà" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà
                    </div>
                    <div id="priceTableContainer" class="table-container">
                        <table id="priceTable" class="price-table">
                            <thead>
                                <tr>
                                    <th>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                                    <th>‡∏Ç‡∏ô‡∏≤‡∏î</th>
                                    <th>‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</th>
                                    <th>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</th>
                                    <th>‡πÅ‡∏û‡∏Ñ‡πÄ‡∏Å‡∏à</th>
                                    <th>‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏ï‡πá‡∏°</th>
                                    <th>‡∏•‡∏î 35%</th>
                                    <th>‡∏•‡∏î 50%</th>
                                    <th>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                                </tr>
                            </thead>
                            <tbody id="priceTableBody">
                                <tr>
                                    <td colspan="9" class="empty-state">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <section class="card wide" id="promoTableSection">
                    <header>
                        <div>
                            <h2>üéÅ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
                            <p>‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç - ‡πÅ‡∏û‡∏Ñ‡πÄ‡∏Å‡∏à‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏ç‡∏ç‡∏≤</p>
                        </div>
                        <div class="actions">
                            <button id="addNewPromoBtn" type="button" class="primary">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà</button>
                        </div>
                    </header>
                    <div id="promoTableContainer" class="table-container">
                        <table id="promoTable" class="price-table">
                            <thead>
                                <tr>
                                    <th>‡πÅ‡∏û‡∏Ñ‡πÄ‡∏Å‡∏à</th>
                                    <th>‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</th>
                                    <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                                    <th>‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏ï‡πá‡∏°</th>
                                    <th>‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</th>
                                    <th>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏≤‡∏¢</th>
                                    <th>‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á</th>
                                    <th>‡∏°‡∏±‡∏î‡∏à‡∏≥</th>
                                    <th>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                                </tr>
                            </thead>
                            <tbody id="promoTableBody">
                                <tr>
                                    <td colspan="9" class="empty-state">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <section class="card subtle" id="advancedCard">
                    <h2>‚öôÔ∏è ‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç)</h2>
                    <p>‚ö†Ô∏è ‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏î‡πâ‡∏≤‡∏ô‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô - ‡πÑ‡∏ü‡∏•‡πå JSON ‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏°</p>
                    <details>
                        <summary>üìÑ ‡πÅ‡∏™‡∏î‡∏á‡πÑ‡∏ü‡∏•‡πå JSON</summary>
                        <div class="warning-box">
                            <strong>‚ö†Ô∏è ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô:</strong> ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡πÑ‡∏î‡πâ ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÅ‡∏ó‡∏ô
                        </div>
                        <div class="actions compact">
                            <button id="formatConfigBtn" type="button" class="ghost">üîß ‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö JSON</button>
                            <button id="saveFullConfigBtn" type="button" class="primary">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                        </div>
                        <textarea id="configEditor" spellcheck="false" placeholder="‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• JSON ‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà"></textarea>
                    </details>
                </section>
            </main>
    </div>

    <div id="toast" class="toast"></div>

    <!-- Modal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤ -->
    <div id="priceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="priceModalTitle">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏≤‡∏Ñ‡∏≤</h2>
                <button class="modal-close" onclick="closePriceModal()">&times;</button>
            </div>
            <form id="priceModalForm">
                <input type="hidden" name="originalKey" id="originalKey" />
                <div class="form-group">
                    <label>üõãÔ∏è ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                    <select name="itemKey" id="modalItemSelect" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>üìè ‡∏Ç‡∏ô‡∏≤‡∏î</label>
                    <select name="sizeKey" id="modalSizeSelect" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î</option>
                    </select>
                </div>
                <div class="two-col">
                    <div class="form-group">
                        <label>üßπ ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</label>
                        <select name="serviceKey" id="modalServiceSelect" required>
                            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>üë§ ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</label>
                        <select name="customerKey" id="modalCustomerSelect" required>
                            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>üì¶ ‡πÅ‡∏û‡∏Ñ‡πÄ‡∏Å‡∏à</label>
                    <input name="packageKey" id="modalPackageInput" value="regular" placeholder="regular" />
                    <small class="hint">‡∏õ‡∏Å‡∏ï‡∏¥‡πÉ‡∏ä‡πâ "regular"</small>
                </div>
                <div class="three-col">
                    <div class="form-group">
                        <label>üíµ ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏ï‡πá‡∏°</label>
                        <input name="fullPrice" id="modalFullPrice" type="number" min="0" required />
                    </div>
                    <div class="form-group">
                        <label>üè∑Ô∏è ‡∏•‡∏î 35%</label>
                        <input name="discount35" id="modalDiscount35" type="number" min="0" />
                    </div>
                    <div class="form-group">
                        <label>üéâ ‡∏•‡∏î 50%</label>
                        <input name="discount50" id="modalDiscount50" type="number" min="0" />
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="ghost" onclick="closePriceModal()">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="submit" class="primary">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô -->
    <div id="promoModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="promoModalTitle">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô</h2>
                <button class="modal-close" onclick="closePromoModal()">&times;</button>
            </div>
            <form id="promoModalForm">
                <input type="hidden" name="originalKey" id="promoOriginalKey" />
                <div class="two-col">
                    <div class="form-group">
                        <label>üì¶ ‡πÅ‡∏û‡∏Ñ‡πÄ‡∏Å‡∏à</label>
                        <select name="packageKey" id="modalPromoPackageSelect" required>
                            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏û‡∏Ñ‡πÄ‡∏Å‡∏à</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>üßπ ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</label>
                        <select name="serviceKey" id="modalPromoServiceSelect" required>
                            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>üî¢ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á</label>
                    <select name="quantity" id="modalPromoQuantitySelect" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</option>
                    </select>
                </div>
                <div class="three-col">
                    <div class="form-group">
                        <label>üíµ ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏ï‡πá‡∏°</label>
                        <input name="fullPrice" id="modalPromoFullPrice" type="number" min="0" />
                    </div>
                    <div class="form-group">
                        <label>üè∑Ô∏è ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</label>
                        <input name="discount" id="modalPromoDiscount" type="number" min="0" />
                    </div>
                    <div class="form-group">
                        <label>üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏≤‡∏¢</label>
                        <input name="salePrice" id="modalPromoSalePrice" type="number" min="0" required />
                    </div>
                </div>
                <div class="two-col">
                    <div class="form-group">
                        <label>üìä ‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á</label>
                        <input name="perItem" id="modalPromoPerItem" type="number" min="0" />
                    </div>
                    <div class="form-group">
                        <label>üí≥ ‡∏°‡∏±‡∏î‡∏à‡∏≥</label>
                        <input name="depositMin" id="modalPromoDeposit" type="number" min="0" />
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="ghost" onclick="closePromoModal()">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="submit" class="primary">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                </div>
            </form>
        </div>
    </div>

    <script src="./app.js" type="module"></script>
</body>
</html>
